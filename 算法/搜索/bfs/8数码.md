```cpp
#include <iostream>
#include <algorithm>
#include <unordered_map>
#include <cstring>
#include <queue>
using namespace std;
unordered_map<string, int> dis;
int bfs(string s) {
	string end = "12345678x";
	queue<string> q;
	dis[s] = 0;
	q.push(s);
	int x[4] = { 1,0,-1,0 };
	int y[4] = { 0,-1,0,1 };
	while (q.size()) {
		auto t = q.front();
		q.pop();
		if (t == end)return dis[t];
		int pos = t.find("x");
		for (int i = 0; i < 4; i++) {
			int a = pos / 3;
			int b = pos % 3;
			a += x[i], b += y[i];
			if (a >= 0 && a < 3 && b >= 0 && b < 3) {
				swap(t[pos], t[a * 3 + b]);
				if (!dis.count(t)) {
					dis[t] = dis[t] + 1;
					q.push(t);
				}
				swap(t[a * 3 + b], t[pos]);
			}
		}
	}
	return -1;
}
signed main() {
	string s;
	for (int i = 0; i < 9; i++) {
		char a;
		cin >> a;
		s += a;
	}
	cout << bfs(s);
}
```